<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Roblox Script Hub</title>
<style>
body{margin:0;font-family:Arial;background:#0f1220;color:#fff}
header{background:#11162a;padding:15px;text-align:center;position:relative}
.box{border:1px solid #333;padding:12px;margin:12px;border-radius:8px}
input,textarea,select,button{width:100%;padding:6px;margin:5px 0;box-sizing:border-box}
button{cursor:pointer;background:#1e90ff;border:none;color:white;border-radius:6px}
button:hover{opacity:.9}
.hidden{display:none}
img{border-radius:6px}
</style>
</head>

<body>

<header>
  <h2>ğŸš€ Roblox Script Hub</h2>
  <div id="roleText"></div>

  <!-- CHá»ŒN NGÃ”N NGá»® -->
  <div style="position:absolute;top:10px;right:10px;">
    <select id="langSelect" onchange="changeLang()">
      <option value="vi">ğŸ‡»ğŸ‡³ Viá»‡t Nam</option>
      <option value="en">ğŸ‡ºğŸ‡¸ English</option>
      <option value="jp">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
      <option value="kr">ğŸ‡°ğŸ‡· í•œêµ­ì–´</option>
    </select>
  </div>
</header>

<!-- OWNER KEY -->
<div id="ownerKeyBox" class="box">
  <h3>ğŸ”‘ Owner Key</h3>
  <input id="ownerKeyInput" placeholder="Nháº­p Owner Key">
  <button onclick="checkOwnerKey()">XÃ¡c nháº­n</button>
</div>

<!-- MENU OWNER -->
<div id="ownerMenu" class="box hidden">
  <h3>ğŸ‘‘ Menu Owner</h3>
  <input id="rankName" placeholder="TÃªn ngÆ°á»i dÃ¹ng">
  <select id="rankType">
    <option value="admin">Admin</option>
    <option value="user">User</option>
  </select>
  <button onclick="setRank()">Cáº¥p Rank</button>
</div>

<!-- THÃŠM SCRIPT -->
<div id="addScriptBox" class="box hidden">
  <h3>â• ThÃªm Script Roblox</h3>
  <input id="gameName" placeholder="TÃªn game (VD: Blox Fruits)">
  <input id="gameImage" placeholder="Link áº£nh game (URL)">
  <input id="scriptName" placeholder="TÃªn script">
  <select id="scriptKeyType">
    <option>No Key</option>
    <option>CÃ³ Key</option>
  </select>
  <textarea id="scriptCode" rows="5" placeholder="DÃ¡n script Roblox vÃ o Ä‘Ã¢y"></textarea>
  <button onclick="addScript()">Gá»­i Script</button>
</div>

<!-- DUYá»†T SCRIPT -->
<div id="approveBox" class="box hidden">
  <h3>ğŸ›¡ï¸ Duyá»‡t Script</h3>
  <div id="approveList"></div>
</div>

<!-- TÃŒM GAME -->
<div class="box">
  <h3>ğŸ® Nháº­p tÃªn game</h3>
  <input id="searchGame" placeholder="VD: Blox Fruits">
  <button onclick="showScripts()">Xem Script</button>
</div>

<div id="scriptList"></div>

<script>
/* ===== CONFIG ===== */
let OWNER_KEY="OWNER-2026-MANH";

/* ===== DATA ===== */
let role=localStorage.getItem("role")||"user";
let scriptsDB=JSON.parse(localStorage.getItem("scriptsDB"))||[];
let ranks=JSON.parse(localStorage.getItem("ranks"))||{};
let lang=localStorage.getItem("lang")||"vi";

/* ===== NGÃ”N NGá»® ===== */
const LANG_TEXT={
vi:{title:"Roblox Script Hub",add:"ThÃªm Script Roblox",approve:"Duyá»‡t Script",search:"Nháº­p tÃªn game",no:"ChÆ°a cÃ³ script"},
en:{title:"Roblox Script Hub",add:"Add Script",approve:"Approve Script",search:"Enter game name",no:"No scripts"},
jp:{title:"Roblox ã‚¹ã‚¯ãƒªãƒ—ãƒˆé›†",add:"ã‚¹ã‚¯ãƒªãƒ—ãƒˆè¿½åŠ ",approve:"æ‰¿èª",search:"ã‚²ãƒ¼ãƒ åå…¥åŠ›",no:"ã‚¹ã‚¯ãƒªãƒ—ãƒˆãªã—"},
kr:{title:"ë¡œë¸”ë¡ìŠ¤ ìŠ¤í¬ë¦½íŠ¸",add:"ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€",approve:"ìŠ¹ì¸",search:"ê²Œì„ ì´ë¦„ ì…ë ¥",no:"ìŠ¤í¬ë¦½íŠ¸ ì—†ìŒ"}
};

/* ===== INIT ===== */
updateUI();
loadApprove();
applyLang();
document.getElementById("langSelect").value=lang;

/* ===== UI ===== */
function updateUI(){
  roleText.innerText="Quyá»n: "+role.toUpperCase();
  if(role==="owner"){
    ownerKeyBox.style.display="none";
    ownerMenu.classList.remove("hidden");
    addScriptBox.classList.remove("hidden");
    approveBox.classList.remove("hidden");
  }
  if(role==="admin"){
    ownerKeyBox.style.display="none";
    addScriptBox.classList.remove("hidden");
    approveBox.classList.remove("hidden");
  }
}

/* ===== OWNER ===== */
function checkOwnerKey(){
  if(ownerKeyInput.value===OWNER_KEY){
    role="owner";
    localStorage.setItem("role","owner");
    alert("ğŸ‘‘ Báº¡n Ä‘Ã£ lÃ  OWNER");
    updateUI();
  }else alert("âŒ Sai key");
}

function setRank(){
  let n=rankName.value.trim();
  let t=rankType.value;
  if(!n)return alert("Nháº­p tÃªn");
  ranks[n]=t;
  localStorage.setItem("ranks",JSON.stringify(ranks));
  alert("âœ… ÄÃ£ cáº¥p "+t+" cho "+n);
}

/* ===== SCRIPT ===== */
function addScript(){
  let game=gameName.value.trim();
  let img=gameImage.value.trim();
  let name=scriptName.value.trim();
  let code=scriptCode.value.trim();
  let keyType=scriptKeyType.value;
  if(!game||!name||!code)return alert("âŒ Thiáº¿u thÃ´ng tin");

  scriptsDB.push({
    game,image:img,name,code,keyType,
    approved:role==="owner",
    time:new Date().toLocaleString()
  });
  localStorage.setItem("scriptsDB",JSON.stringify(scriptsDB));
  alert("âœ… ÄÃ£ gá»­i â€“ chá» duyá»‡t");
  scriptCode.value="";
  loadApprove();
}

/* ===== DUYá»†T ===== */
function loadApprove(){
  if(role!=="owner"&&role!=="admin")return;
  let html="";
  scriptsDB.forEach((s,i)=>{
    if(!s.approved){
      html+=`
      <div class="box">
        <b>${s.name}</b> â€“ ${s.game}
        <button onclick="approveScript(${i})">Duyá»‡t</button>
      </div>`;
    }
  });
  approveList.innerHTML=html||"KhÃ´ng cÃ³ script chá» duyá»‡t";
}

function approveScript(i){
  scriptsDB[i].approved=true;
  localStorage.setItem("scriptsDB",JSON.stringify(scriptsDB));
  loadApprove();
  alert("âœ… ÄÃ£ duyá»‡t");
}

/* ===== HIá»‚N THá»Š ===== */
function showScripts(){
  let game=searchGame.value.trim().toLowerCase();
  let list=scriptsDB.filter(s=>s.approved&&s.game.toLowerCase()===game);
  let html="";
  if(list.length===0)html="<p>"+LANG_TEXT[lang].no+"</p>";
  list.forEach(s=>{
    html+=`
    <div class="box">
      ${s.image?`<img src="${s.image}" style="width:100%;max-height:150px;object-fit:cover">`:""}
      <b>${s.name}</b> | ${s.keyType}<br>
      <small>${s.time}</small>
      <textarea readonly rows="4">${s.code}</textarea>
    </div>`;
  });
  scriptList.innerHTML=html;
}

/* ===== NGÃ”N NGá»® ===== */
function changeLang(){
  lang=document.getElementById("langSelect").value;
  localStorage.setItem("lang",lang);
  applyLang();
}
function applyLang(){
  document.querySelector("header h2").innerText="ğŸš€ "+LANG_TEXT[lang].title;
  document.querySelector("#addScriptBox h3").innerText="â• "+LANG_TEXT[lang].add;
  document.querySelector("#approveBox h3").innerText="ğŸ›¡ï¸ "+LANG_TEXT[lang].approve;
  document.querySelector(".box h3").innerText="ğŸ® "+LANG_TEXT[lang].search;
}
</script>

</body>
  </html>
