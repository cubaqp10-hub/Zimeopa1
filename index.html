<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Roblox Script Hub</title>

<style>
body{margin:0;font-family:Arial;background:#0e0f16;color:#fff}
header{padding:14px;text-align:center;font-size:22px;font-weight:900;
background:linear-gradient(135deg,#7a5cff,#00d4ff)}
.container{max-width:1100px;margin:auto;padding:10px}
.card{background:#16182a;padding:12px;border-radius:14px;margin-bottom:12px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:12px}
input,select,textarea,button{
width:100%;padding:8px;border-radius:10px;border:none;margin:5px 0
}
button{background:#7a5cff;color:#fff;font-weight:800;cursor:pointer}
button:hover{opacity:.85}
.hidden{display:none}
pre{background:#0b0c1a;padding:10px;border-radius:10px;font-size:12px;overflow:auto}
.badge{font-size:12px;padding:3px 7px;border-radius:999px;display:inline-block;margin-bottom:5px}
.ok{background:#00c853}
</style>
</head>

<body>
<header>ğŸš€ Roblox Script Hub â€” Owner System</header>

<div class="container">

<!-- ğŸ‘‘ OWNER KEY (1 Láº¦N) -->
<div id="ownerKeyBox" class="card">
  <h3>ğŸ‘‘ KÃ­ch hoáº¡t Owner</h3>
  <p>Chá»‰ nháº­p 1 láº§n duy nháº¥t</p>
  <input id="ownerKeyInput" placeholder="Nháº­p OWNER KEY">
  <button onclick="useOwnerKey()">XÃ¡c nháº­n</button>
</div>

<!-- LOGIN -->
<div id="loginBox" class="card">
  <h3>ÄÄƒng nháº­p</h3>
  <input id="lu" placeholder="Username">
  <button onclick="login()">Login</button>
</div>

<!-- ğŸ‘‘ OWNER PANEL -->
<div id="rankPanel" class="card hidden">
  <h3>ğŸ‘‘ Quáº£n lÃ½ Rank (Owner)</h3>
  <input id="rankUser" placeholder="Username ngÆ°á»i chÆ¡i">
  <select id="rankRole">
    <option>ADMIN</option>
    <option>SUPPORT</option>
    <option>USER</option>
  </select>
  <button onclick="setRank()">âœ” Cáº¥p / Äá»•i rank</button>
  <button onclick="removeRank()">âŒ Thu há»“i quyá»n</button>
</div>

<!-- ğŸ§¾ LOG ADMIN -->
<div id="logPanel" class="card hidden">
  <h3>ğŸ§¾ Log Admin (Owner)</h3>
  <button onclick="clearLogs()">ğŸ—‘ï¸ XÃ³a log</button>
  <pre id="logBox" style="max-height:300px;overflow:auto"></pre>
</div>

<!-- ğŸ›¡ï¸ ADMIN PANEL -->
<div id="adminPanel" class="card hidden">
  <h3>ğŸ›¡ï¸ ThÃªm Script</h3>
  <input id="sName" placeholder="TÃªn script">
  <select id="sGame"></select>
  <textarea id="sCode" placeholder="Lua script Roblox"></textarea>
  <button onclick="addScript()">â• ThÃªm Script</button>
  <button onclick="logout()">Logout</button>
</div>

<!-- SEARCH -->
<div class="card">
  <input id="search" placeholder="ğŸ” TÃ¬m script..." oninput="render()">
  <select id="gameFilter" onchange="render()"></select>
</div>

<!-- SCRIPT LIST -->
<div id="list" class="grid"></div>

</div>

<script>
// ===== OWNER KEY (1 Láº¦N) =====
let OWNER_KEY = "OWNER-2026-MANH"; // ğŸ”‘ Ä‘á»•i key nÃ y

// ===== DATA =====
const GAMES = ["Blox Fruits","Da Hood","Pet Simulator","Anime Fighters","Arsenal"];

let me = JSON.parse(localStorage.getItem("me")||"null");
let scripts = JSON.parse(localStorage.getItem("scripts")||"[]");
let ranks = JSON.parse(localStorage.getItem("ranks")||"{}");

// ===== LOG ADMIN =====
let logs = JSON.parse(localStorage.getItem("logs") || "[]");
function addLog(text){
  const time = new Date().toLocaleString();
  logs.unshift(`[${time}] ${text}`);
  localStorage.setItem("logs", JSON.stringify(logs));
}
function renderLogs(){
  logBox.textContent = logs.join("\n\n") || "ChÆ°a cÃ³ log";
}
function clearLogs(){
  if(me.role!=="OWNER") return;
  if(confirm("XÃ³a toÃ n bá»™ log?")){
    logs=[];
    localStorage.setItem("logs","[]");
    renderLogs();
  }
}

// ===== INIT GAME =====
GAMES.forEach(g=>{
  sGame.innerHTML+=`<option>${g}</option>`;
  gameFilter.innerHTML+=`<option value="${g}">${g}</option>`;
});
gameFilter.innerHTML = `<option value="">All Games</option>` + gameFilter.innerHTML;

// ===== OWNER KEY =====
function useOwnerKey(){
  if(localStorage.getItem("ownerActive")){
    alert("Owner Ä‘Ã£ kÃ­ch hoáº¡t âŒ"); return;
  }
  if(ownerKeyInput.value===OWNER_KEY){
    localStorage.setItem("me",JSON.stringify({u:"OWNER",role:"OWNER"}));
    localStorage.setItem("ownerActive","true");
    addLog("ğŸ‘‘ OWNER KEY Ä‘Æ°á»£c sá»­ dá»¥ng láº§n Ä‘áº§u");
    OWNER_KEY="";
    alert("KÃ­ch hoáº¡t OWNER thÃ nh cÃ´ng ğŸ‘‘");
    location.reload();
  }else alert("Owner Key sai âŒ");
}
if(localStorage.getItem("ownerActive")) ownerKeyBox.style.display="none";

// ===== LOGIN =====
function login(){
  if(localStorage.getItem("ownerActive")){
    me = JSON.parse(localStorage.getItem("me"));
  }else if(ranks[lu.value]){
    me = {u:lu.value, role:ranks[lu.value]};
  }else{
    alert("KhÃ´ng cÃ³ quyá»n"); return;
  }
  localStorage.setItem("me",JSON.stringify(me));
  loginBox.classList.add("hidden");
  applyUI();
}
function logout(){
  localStorage.removeItem("me");
  location.reload();
}

// ===== UI =====
function applyUI(){
  adminPanel.classList.add("hidden");
  rankPanel.classList.add("hidden");
  logPanel.classList.add("hidden");

  if(me.role==="OWNER"){
    adminPanel.classList.remove("hidden");
    rankPanel.classList.remove("hidden");
    logPanel.classList.remove("hidden");
    renderLogs();
  }
  if(me.role==="ADMIN"){
    adminPanel.classList.remove("hidden");
  }
}
if(me){loginBox.classList.add("hidden");applyUI();}

// ===== RANK =====
function setRank(){
  if(me.role!=="OWNER")return;
  ranks[rankUser.value]=rankRole.value;
  localStorage.setItem("ranks",JSON.stringify(ranks));
  addLog(`ğŸ‘‘ OWNER cáº¥p ${rankRole.value} cho ${rankUser.value}`);
  alert("ÄÃ£ cáº¥p rank");
  rankUser.value="";
}
function removeRank(){
  if(me.role!=="OWNER")return;
  addLog(`ğŸ‘‘ OWNER thu há»“i quyá»n cá»§a ${rankUser.value}`);
  delete ranks[rankUser.value];
  localStorage.setItem("ranks",JSON.stringify(ranks));
  alert("ÄÃ£ thu há»“i quyá»n");
  rankUser.value="";
}

// ===== SCRIPT =====
function addScript(){
  scripts.unshift({
    name:sName.value||"No Name",
    game:sGame.value,
    code:sCode.value,
    copies:0
  });
  localStorage.setItem("scripts",JSON.stringify(scripts));
  addLog(`ğŸ›¡ï¸ ${me.role}: ${me.u} â• thÃªm script "${sName.value}"`);
  sName.value=sCode.value="";
  render();
}
function copyCode(i){
  scripts[i].copies++;
  navigator.clipboard.writeText(scripts[i].code);
  localStorage.setItem("scripts",JSON.stringify(scripts));
  render();
}

// ===== RENDER =====
function render(){
  list.innerHTML="";
  const q=search.value.toLowerCase();
  const gf=gameFilter.value;
  scripts.forEach((s,i)=>{
    if(q && !s.name.toLowerCase().includes(q))return;
    if(gf && s.game!==gf)return;
    list.innerHTML+=`
    <div class="card">
      <h3>${s.name}</h3>
      <div class="badge ok">ğŸ® ${s.game}</div>
      <pre>${s.code}</pre>
      <button onclick="copyCode(${i})">ğŸ“‹ Copy (${s.copies})</button>
    </div>`;
  });
}
render();
</script>
</body>
</html>
